<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For Durvi üåç</title>
  <style>
    /* ===== RESET & BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: radial-gradient(ellipse at bottom, #0d1b2a 0%, #02040f 100%);
      color: #e6e6eb;
      line-height: 1.7;
      overflow-x: hidden;
    }

    /* ===== LANDING SECTION ===== */
    .landing {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
      position: relative;
      max-width: 1200px;
      margin: 0 auto;
    }

    .landing-content {
      display: flex;
      align-items: center;
      gap: 60px;
      width: 100%;
    }

    .landing-text {
      flex: 1;
      text-align: left;
      padding-right: 40px;
    }

    .landing h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3.2rem;
      margin-bottom: 25px;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      color: #ffffff;
      line-height: 1.2;
    }

    .landing p {
      font-size: 1.4rem;
      color: #bdbdd1;
      max-width: 600px;
      margin-top: 10px;
    }

    .highlight {
      color: #fef3c7;
      font-weight: 600;
    }

    /* ===== VIDEO SECTION ===== */
    .landing-video-container {
      flex: 1;
      max-width: 350px;
      position: relative;
    }

    .video-wrapper {
      border-radius: 20px;
      overflow: hidden;
      position: relative;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
      border: 2px solid rgba(255, 255, 255, 0.1);
      transition: all 0.4s ease;
      height: 600px;
      width: 100%;
      background: #000;
    }

    .fallback-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }

    .video-wrapper:hover {
      transform: translateY(-10px);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.7);
      border-color: rgba(163, 191, 250, 0.3);
    }

    .memory-video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    /* Play button overlay */
    .play-indicator {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.7);
      width: 70px;
      height: 70px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
      z-index: 2;
    }

    .video-wrapper:hover .play-indicator {
      opacity: 0.8;
    }

    .video-wrapper:hover .play-indicator.playing {
      opacity: 0;
    }

    .video-wrapper:hover .play-indicator:not(.playing) {
      transform: translate(-50%, -50%) scale(1.1);
      background: rgba(163, 191, 250, 0.8);
    }

    .play-icon {
      font-size: 2rem;
      color: white;
      margin-left: 5px;
    }

    /* Video controls */
    .video-controls {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0, 0, 0, 0.7);
      padding: 15px;
      display: flex;
      align-items: center;
      gap: 15px;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 3;
      transform: translateY(100%);
    }

    .video-wrapper:hover .video-controls {
      opacity: 1;
      transform: translateY(0);
    }

    .control-btn {
      background: none;
      border: none;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 5px;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.3s ease;
    }

    .control-btn:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .time-display {
      font-size: 0.9rem;
      color: #bdbdd1;
      margin-left: auto;
    }

    .progress-container {
      position: absolute;
      bottom: 60px;
      left: 0;
      right: 0;
      height: 4px;
      background: rgba(255, 255, 255, 0.2);
      z-index: 3;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .video-wrapper:hover .progress-container {
      opacity: 1;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, #a3bffa, #fda4af);
      width: 0%;
      transition: width 0.1s linear;
    }

    /* Video status */
    .video-status-container {
      text-align: center;
      margin-top: 15px;
      color: #8f8fdc;
      font-size: 0.9rem;
    }

    .status-btn {
      background: none;
      border: 1px solid #8f8fdc;
      color: #8f8fdc;
      padding: 5px 10px;
      border-radius: 5px;
      margin-top: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .status-btn:hover {
      background: rgba(143, 143, 220, 0.1);
    }

    /* ===== SECTIONS STYLING ===== */
    .section {
      max-width: 1000px;
      margin: 100px auto;
      padding: 0 40px;
    }

    .section h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.3rem;
      margin-bottom: 30px;
      color: #fef3c7;
      text-align: center;
      position: relative;
    }

    .section h2::after {
      content: '';
      display: block;
      width: 100px;
      height: 3px;
      background: linear-gradient(90deg, transparent, #8f8fdc, transparent);
      margin: 15px auto;
    }

    .section p, .section li {
      font-size: 1.15rem;
      color: #d6d6ec;
      max-width: 800px;
      margin: 0 auto 20px;
      line-height: 1.8;
    }

    /* ===== MEMORY CARDS ===== */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    .card {
      background: rgba(255, 255, 255, 0.06);
      padding: 30px;
      border-radius: 20px;
      font-size: 1rem;
      transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, #a3bffa, #fda4af);
    }

    .card::after {
      content: 'üëÜ Click to remember';
      position: absolute;
      bottom: 10px;
      right: 10px;
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.5);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .card:hover::after {
      opacity: 1;
    }

    .card:hover {
      transform: translateY(-10px) scale(1.02);
      background: rgba(255, 255, 255, 0.1);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }

    /* ===== MODAL POPUP ===== */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-container {
      background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%);
      width: 90%;
      max-width: 900px;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transform: scale(0.9);
      opacity: 0;
      transition: transform 0.4s ease, opacity 0.4s ease;
    }

    .modal-overlay.active .modal-container {
      transform: scale(1);
      opacity: 1;
    }

    .modal-header {
      padding: 25px 30px;
      background: rgba(255, 255, 255, 0.05);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      color: #fef3c7;
      margin: 0;
    }

    .modal-close {
      background: rgba(253, 164, 175, 0.2);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .modal-close:hover {
      background: rgba(253, 164, 175, 0.4);
      transform: rotate(90deg);
    }

    .modal-content {
      display: flex;
      min-height: 400px;
    }

    .modal-text {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
      max-height: 400px;
    }

    .modal-date {
      color: #8f8fdc;
      font-size: 0.9rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .modal-date::before {
      content: "üìÖ";
    }

    .modal-letter {
      font-size: 1.1rem;
      line-height: 1.8;
      color: #d6d6ec;
    }

    .modal-letter p {
      margin-bottom: 20px;
    }

    .modal-signature {
      font-family: 'Playfair Display', serif;
      font-style: italic;
      color: #fef3c7;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .modal-image {
      flex: 1;
      background: #000;
      position: relative;
      overflow: hidden;
    }

    .modal-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .modal-image:hover img {
      transform: scale(1.05);
    }

    .image-caption {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
      padding: 20px;
      color: white;
    }

    /* ===== LIST STYLES ===== */
    ul {
      list-style: none;
      max-width: 700px;
      margin: 30px auto;
    }

    ul li {
      margin-bottom: 20px;
      position: relative;
      padding: 15px 20px 15px 50px;
      background: rgba(255, 255, 255, 0.04);
      border-radius: 10px;
      border-left: 4px solid #fda4af;
      transition: transform 0.3s ease, background 0.3s ease;
    }

    ul li:hover {
      transform: translateX(10px);
      background: rgba(255, 255, 255, 0.08);
    }

    ul li::before {
      content: '‚ú®';
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.2rem;
    }

    /* ===== FUTURE SECTION ===== */
    .future-container {
      display: flex;
      align-items: center;
      gap: 50px;
      margin-top: 50px;
      flex-wrap: wrap;
    }

    .future-text {
      flex: 1;
      min-width: 300px;
    }

    /* ===== FOOTER ===== */
    .footer {
      text-align: center;
      padding: 60px 20px 40px;
      margin-top: 100px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .footer p {
      color: #8f8fdc;
      font-size: 1rem;
    }

    .signature {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      color: #fef3c7;
      margin-top: 20px;
      font-style: italic;
    }

    /* ===== ANIMATIONS ===== */
    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .section, .landing {
      animation: fadeUp 1.2s ease forwards;
    }

    /* ===== STARFIELD BACKGROUND ===== */
    html, body {
      width: 100%;
      height: 100%;
      background: radial-gradient(ellipse at bottom, #0b132b 0%, #02040f 100%);
      overflow-x: hidden;
    }

    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 1px;
      height: 1px;
      background: transparent;
      box-shadow:
        100px 200px white,
        300px 400px white,
        500px 600px white,
        700px 800px white,
        900px 100px white,
        1100px 300px white,
        1300px 500px white,
        1500px 700px white;
      animation: animStars 120s linear infinite;
      z-index: -1;
    }

    .stars2 {
      position: fixed;
      top: 0;
      left: 0;
      width: 2px;
      height: 2px;
      background: transparent;
      box-shadow:
        200px 300px #cfd9ff,
        400px 600px #cfd9ff,
        600px 900px #cfd9ff,
        800px 200px #cfd9ff,
        1000px 500px #cfd9ff;
      animation: animStars 180s linear infinite;
      opacity: 0.6;
      z-index: -1;
    }

    .shooting-stars-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    @keyframes animStars {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-2000px);
      }
    }

    @keyframes shootingStar {
      0% {
        opacity: 0;
        transform: translateX(0) translateY(0) rotate(var(--angle, 45deg));
      }
      5% {
        opacity: 1;
        transform: translateX(10px) translateY(10px) rotate(var(--angle, 45deg));
      }
      10% {
        opacity: 1;
        box-shadow: 0 0 20px 5px var(--color, #fff);
      }
      20% {
        opacity: 0.5;
        transform: translateX(100px) translateY(100px) rotate(var(--angle, 45deg));
      }
      30%, 100% {
        opacity: 0;
        transform: translateX(200px) translateY(200px) rotate(var(--angle, 45deg));
      }
    }

    /* ===== CONTENT LAYER ===== */
    .content {
      position: relative;
      z-index: 1;
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 1024px) {
      .landing-content {
        flex-direction: column;
        gap: 40px;
      }
      
      .landing-text {
        padding-right: 0;
        text-align: center;
      }
      
      .landing-video-container {
        max-width: 400px;
      }
      
      .video-wrapper {
        height: 500px;
      }
      
      .modal-content {
        flex-direction: column;
      }
      
      .modal-container {
        width: 95%;
        max-height: 90vh;
      }
      
      .modal-text {
        max-height: 300px;
      }
      
      .modal-image {
        height: 300px;
      }
    }

    @media (max-width: 768px) {
      .landing h1 {
        font-size: 2.5rem;
      }
      
      .landing p {
        font-size: 1.2rem;
      }
      
      .section {
        margin: 60px auto;
        padding: 0 20px;
      }
      
      .section h2 {
        font-size: 1.8rem;
      }
      
      .video-wrapper {
        height: 450px;
      }
      
      .landing {
        padding: 20px;
      }
    }
  </style>
  
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Star Background -->
  <div class="stars"></div>
  <div class="stars2"></div>
  <div class="shooting-stars-container" id="shooting-stars"></div>

  <!-- Modal Popup -->
  <div class="modal-overlay" id="memory-modal">
    <div class="modal-container">
      <div class="modal-header">
        <h2 class="modal-title" id="modal-title">Memory Details</h2>
        <button class="modal-close" id="modal-close">&times;</button>
      </div>
      <div class="modal-content">
        <div class="modal-text">
          <div class="modal-date" id="modal-date">A special day</div>
          <div class="modal-letter" id="modal-letter">
            <!-- Letter content will be inserted here -->
          </div>
          <div class="modal-signature">With love,<br>Rahul :)</div>
        </div>
        <div class="modal-image">
          <img id="modal-image" src="" alt="Memory Image">
          <div class="image-caption">
            <span id="image-caption">A precious moment captured forever</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="content">
    <!-- Landing Section -->
    <section class="landing">
      <div class="landing-content">
        <div class="landing-text">
          <h1>From here to everywhere üåç</h1>
          <p>
            A small corner of the internet for a 
            <span class="highlight">big chapter of your life</span>, Durvi.
          </p>
          <p style="margin-top: 20px; font-size: 1.2rem; color: #8f8fdc;">
            Wherever your journey takes you, remember that 
            <span class="highlight">home is where the heart is</span>, 
            and a piece of mine will always be with you.
          </p>
        </div>
        
        <div class="landing-video-container">
          <div class="video-wrapper">
            <!-- Video -->
            <video class="memory-video" loop muted playsinline preload="metadata" id="main-video">
              <source src="videos/durvid.mp4" type="video/mp4">
              Your browser does not support HTML5 video.
            </video>
            
            <!-- Fallback image -->
            <img src="images/fallback.jpg" alt="Memory with Durvi" class="fallback-image" id="fallback-img">
            
            <!-- Play indicator -->
            <div class="play-indicator" id="play-indicator">
              <div class="play-icon">‚ñ∂</div>
            </div>
            
            <!-- Progress bar -->
            <div class="progress-container">
              <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <!-- Video controls -->
            <div class="video-controls">
              <button class="control-btn" id="play-pause-btn">‚ñ∂</button>
              <button class="control-btn" id="mute-btn">üîä</button>
              <button class="control-btn" id="replay-btn">‚Ü∫</button>
              <div class="time-display" id="time-display">0:00 / 0:04</div>
            </div>
          </div>
          
          <!-- Status message -->
          
        </div>
      </div>
    </section>

    <!-- Letter Section -->
    <section class="section">
      <h2>Before You Begin This Journey</h2>
      <p>
        This is not me being dramatic (okay maybe a little), but I needed to do
        something that stays even when distances change. Georgia is lucky to get you.
        And no matter how far you go, you're still very much‚Ä¶ here.
      </p>
      <p>
        P.S:- don't forget me when you get an accent.
      </p>
    </section>

    <!-- Memory Lane -->
    <section class="section">
      <h2>Our Timeline of Happiness</h2>
      <div class="cards">
        <!-- Card 1 -->
        <div class="card" data-memory="1">
          <h3 style="color: #a3bffa; margin-bottom: 15px;">The First Laugh</h3>
          <p>That moment I realized our humor was perfectly in sync. What started as acquaintances became an unbreakable bond.</p>
        </div>
        
        <!-- Card 2 -->
        <div class="card" data-memory="2">
          <h3 style="color: #fda4af; margin-bottom: 15px;">Hangouts</h3>
          <p>The gharpe kalesh karna so i could hangout with you will always be worth it cuz i would be enjoying my time with the best person in the universe..."</p>
        </div>
        
        <!-- Card 3 -->
        <div class="card" data-memory="3">
          <h3 style="color: #bbf7d0; margin-bottom: 15px;">Through Everything</h3>
          <p>The highs, the lows, and everything in between. You've been my constant, and I'll always be yours.</p>
        </div>
      </div>
    </section>

    <!-- Inside Jokes -->
    <section class="section">
      <h2>Things Only We Understand</h2>
      <ul>
        <li>That nickname no one can dare use for us aside from the two of us (bauni bantai/durvi).</li>
        <li>You always copying me whenever we're talking about likes and dislikes (copper kahiki).</li>
        <li>Knowing each other so well that we're just the same person of opposite genders.</li>
        <li>The momos (im never forgetting that and i wont let you forget that)</li>
      </ul>
    </section>

    <!-- Distance Section -->
    <section class="section">
      <h2>Different Places, Same Energy</h2>
      <p>
        India to Georgia is just a timezone problem. Random calls, sending reels,
        checking in will continue as usual, and ofcourse cant forget irritating you.
        Dont think going far will save you from my bakchodi and lame jokes. They're going to haunt you forever.
      </p>
    </section>

    <!-- Future Us -->
    <section class="section">
      <h2>Future Us</h2>
      <div class="future-container">
        <div class="future-text">
          <p>
            This isn't a goodbye. It's a "see you later" with Wi-Fi, bad sleep schedules with different time zones,
            stories waiting to be told, and I cant wait to see how amazing of a person you become the next time we meet each other.
          </p>
          <p>
            I can't wait to hear about your Georgia waale adventures, see photos of places I've 
            never been, and watch you become even more incredible than you already are.
          </p>
          <p>
            Remember: my phone is always on for you, my inbox is always open, and my support is 
            forever yours.
          </p>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <section class="footer">
      <p>Keep this tab open when you're feeling nostalgic or just need a smile.</p>
      <p>It's my virtual hug (even though you dont like hugs) to you.</p>
      <div class="signature">
        Proud of you always,<br>
        Rahulali :P
      </div>
    </section>
  </div>

  <script>
    // ===== MEMORY DATA =====
    const memories = {
      1: {
        title: "The First Laugh",
        date: "That unforgettable day",
        letter: `<p>I still remember it clear as day the first day you joined class, I entered and u were sitting on the 2nd bench in a black NASA hoodie. Arya sitting just behind you and i look at him and ask him "Bc ye kon naya aa gaya". We had almost no interaction that day the only thing was that me n arya were dissing each other and you laughing sitting front of us.</p>
                <p>The next day mehek and another friend of urs joined classes, sitting behind me, arya, and neel. And ofcourse how can i forget u ate my whole lunch (it was pasta) and yea even though i was the one who told you that u can eat the whole thing but still you ate all the pasta and only leaving me veggies.</p>
                <p>From that day on, just that thing that you did made me think i hope we become good friends cuz i loved that and i wanted to share my laughs with you for the rest of my life. You showed me that the best connections often start with the most dumb shit.</p>`,
        image: "images/picnic.png",
        caption: "Where laughter became our language"
      },
      2: {
        title: "Hang Outs",
        date: "Spontaneous ahh bullshit",
        letter: `<p>I'll always remember the first hangout at IIT and then to marines. It was loads of fun and that time i wished again that i dont want to lose this rather i want to improve it by a lot and im glad ive achieved that.</p>
                <p>Then ofcourse all the time we've hung out let it be for the whole day or for even a few minutes when u guys came mulund when i went out to get snacks... it was all equal level of fun with you. Im definitely going to miss that a LOT (i mean not that i can say much about it since i was the one who moved out first lmao). But im glad that youre going as well.</p>
                <p>No matter how much time passes that we dont meet physically, the bond we have, the bond that we've built over the years will not waver in the slightest. I will always care the same for you and you will forever be my bauni bantai <3.</p>`,
        image: "images/boba.jpeg",
        caption: "When spontaneity became our adventure"
      },
      3: {
        title: "Through Everything",
        date: "All those moments",
        letter: `<p>This isn't about one specific day, but about all of them. The bright days filled with laughter and the stormy days when you were my shelter, my safest space that i couldve gotten.</p>
                <p>You've seen me at my best and my worst, and never wavered. You celebrated my victories as if they were your own, and carried my burdens when they became too heavy.</p>
                <p>Through every high, every low, and every moment in between, you've been the constant I could always rely on. And I want you to know that I'll always be that for you too, no matter where life takes us.</p>`,
        image: "images/cuthie.png",
        caption: "Through every season of life"
      }
    };

    // ===== MODAL ELEMENTS =====
    const modal = document.getElementById('memory-modal');
    const modalClose = document.getElementById('modal-close');
    const modalTitle = document.getElementById('modal-title');
    const modalDate = document.getElementById('modal-date');
    const modalLetter = document.getElementById('modal-letter');
    const modalImage = document.getElementById('modal-image');
    const imageCaption = document.getElementById('image-caption');

    // ===== VIDEO ELEMENTS =====
    const video = document.getElementById('main-video');
    const fallbackImg = document.getElementById('fallback-img');
    const videoStatus = document.getElementById('video-status');
    const playIndicator = document.getElementById('play-indicator');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const muteBtn = document.getElementById('mute-btn');
    const replayBtn = document.getElementById('replay-btn');
    const progressBar = document.getElementById('progress-bar');
    const timeDisplay = document.getElementById('time-display');
    const videoWrapper = document.querySelector('.video-wrapper');

    // ===== FORMAT TIME =====
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, '0')}`;
    }

    // ===== UPDATE PLAY BUTTON STATE =====
    function updatePlayButton() {
      if (video.paused) {
        playPauseBtn.textContent = '‚ñ∂';
        playIndicator.classList.remove('playing');
      } else {
        playPauseBtn.textContent = '‚è∏';
        playIndicator.classList.add('playing');
      }
    }

    // ===== UPDATE PROGRESS BAR =====
    function updateProgress() {
      if (video.duration) {
        const progress = (video.currentTime / video.duration) * 100;
        progressBar.style.width = `${progress}%`;
        timeDisplay.textContent = `${formatTime(video.currentTime)} / ${formatTime(video.duration)}`;
      }
    }

    // ===== TOGGLE PLAY/PAUSE =====
    function togglePlayPause() {
      if (video.paused) {
        video.play().then(() => {
          updatePlayButton();
          videoStatus.textContent = 'Playing...';
        }).catch(error => {
          console.error('Play failed:', error);
          videoStatus.textContent = 'Click to play';
        });
      } else {
        video.pause();
        updatePlayButton();
        videoStatus.textContent = 'Paused';
      }
    }

    // ===== TOGGLE MUTE =====
    function toggleMute() {
      video.muted = !video.muted;
      muteBtn.textContent = video.muted ? 'üîá' : 'üîä';
    }

    // ===== REPLAY VIDEO =====
    function replayVideo() {
      video.currentTime = 0;
      video.play().then(() => {
        updatePlayButton();
        videoStatus.textContent = 'Playing...';
      });
    }

    // ===== VIDEO CLICK HANDLER =====
    videoWrapper.addEventListener('click', function(e) {
      if (!e.target.classList.contains('control-btn')) {
        togglePlayPause();
      }
    });

    // ===== VIDEO CONTROL BUTTONS =====
    playPauseBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      togglePlayPause();
    });

    muteBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      toggleMute();
    });

    replayBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      replayVideo();
    });

    // ===== PROGRESS BAR CLICK TO SEEK =====
    document.querySelector('.progress-container').addEventListener('click', function(e) {
      const rect = this.getBoundingClientRect();
      const pos = (e.clientX - rect.left) / rect.width;
      video.currentTime = pos * video.duration;
    });

    // ===== VIDEO EVENT LISTENERS =====
    video.addEventListener('timeupdate', updateProgress);
    video.addEventListener('loadedmetadata', function() {
      updateProgress();
      videoStatus.textContent = 'Ready to play';
    });

    video.addEventListener('play', function() {
      updatePlayButton();
      videoStatus.textContent = 'Playing...';
    });

    video.addEventListener('pause', function() {
      updatePlayButton();
      videoStatus.textContent = 'Paused';
    });

    video.addEventListener('ended', function() {
      updatePlayButton();
      videoStatus.textContent = 'Video ended';
      setTimeout(replayVideo, 1000);
    });

    video.addEventListener('error', function(e) {
      console.error('Video error:', video.error);
      videoStatus.textContent = 'Video error - try test button';
      fallbackImg.style.display = 'block';
      video.style.display = 'none';
    });

    // ===== LOAD VIDEO =====
    video.load();

    // ===== TEST VIDEO FUNCTION =====
    window.testVideo = function() {
      // Try a test video
      video.innerHTML = '<source src="https://assets.mixkit.co/videos/preview/mixkit-portrait-of-a-fashion-woman-3987-large.mp4" type="video/mp4">';
      video.load();
      videoStatus.textContent = 'Loading test video...';
      fallbackImg.style.display = 'none';
      video.style.display = 'block';
    };

    // ===== MODAL FUNCTIONS =====
    // Open modal when card is clicked
    document.querySelectorAll('.card').forEach(card => {
      card.addEventListener('click', function() {
        const memoryId = this.getAttribute('data-memory');
        const memory = memories[memoryId];
        
        if (memory) {
          modalTitle.textContent = memory.title;
          modalDate.textContent = memory.date;
          modalLetter.innerHTML = memory.letter;
          modalImage.src = memory.image;
          modalImage.alt = memory.title;
          imageCaption.textContent = memory.caption;
          
          modal.classList.add('active');
          document.body.style.overflow = 'hidden';
        }
      });
    });

    // Close modal
    modalClose.addEventListener('click', closeModal);

    // Close modal when clicking outside content
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        closeModal();
      }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && modal.classList.contains('active')) {
        closeModal();
      }
    });

    function closeModal() {
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Image error handling
    modalImage.addEventListener('error', function() {
      this.src = "https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80";
      imageCaption.textContent = "A beautiful memory";
    });

    // ===== SHOOTING STARS =====
    document.addEventListener('DOMContentLoaded', function() {
      const container = document.getElementById('shooting-stars');
      const colors = ['#ffffff', '#a3bffa', '#fef3c7', '#fda4af', '#bbf7d0', '#ddd6fe', '#fed7aa'];
      
      for (let i = 0; i < 60; i++) {
        const star = document.createElement('div');
        const size = Math.random() * 4 + 1;
        const color = colors[Math.floor(Math.random() * colors.length)];
        const left = Math.random() * 100;
        const top = Math.random() * 100;
        const delay = Math.random() * 20;
        const duration = Math.random() * 3 + 1;
        const angle = Math.random() * 60 + 15;
        
        star.style.cssText = `
          position: absolute;
          width: ${size}px;
          height: ${size}px;
          background: ${color};
          border-radius: 50%;
          box-shadow: 0 0 ${size * 2}px ${size / 2}px ${color};
          left: ${left}%;
          top: ${top}%;
          opacity: 0;
          animation: shootingStar ${duration}s linear infinite ${delay}s;
          transform: rotate(${angle}deg);
          z-index: 0;
        `;
        
        container.appendChild(star);
      }
    });
  </script>


</body>
</html>